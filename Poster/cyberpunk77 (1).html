<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="posterstyle.css">
  <title>Detalhes do Jogo - VideoGameRating</title>
</head>
<body>
<div class="container">
  <div class="header">
    <a href="https://www.youtube.com/watch?v=liuFhVXAlZw"><img class="poster" src="cyberpunk77.jfif" alt="Poster do Jogo" /></a>
    <div class="details">
      <div>
        <div class="title">Cyberpunk 2077</div>
        
        <div class="ratings-container">
          <div class="rating">
            <div class="rating-label">Metacritic</div>
            <div class="badge metacritic">86/100</div>
          </div>
          <div class="rating">
            <div class="rating-label">Rotten Tomatoes</div>
            <div class="badge rotten">78%</div>
          </div>
          <div class="rating">
            <div class="rating-label">IMDb</div>
            <div class="badge imdb">7.5/10</div>
          </div>
          <div class="rating">
            <div class="rating-label">Usuários</div>
            <div class="badge user">4.2/5</div>
          </div>
        </div>
        
        <div class="description">
          Um RPG futurista ambientado em Night City, onde o jogador assume o controle de V, um mercenário cibernético em busca da chave para a imortalidade. Com gráficos de ponta e narrativa imersiva, Cyberpunk 2077 oferece uma experiência de mundo aberto repleta de escolhas significativas e personagens memoráveis.
        </div>
      </div>
    </div>
  </div>
  <div class="user-actions">
    <div class="rating-stars" id="ratingStars">
      <span class="star" data-rating="1">★</span>
      <span class="star" data-rating="2">★</span>
      <span class="star" data-rating="3">★</span>
      <span class="star" data-rating="4">★</span>
      <span class="star" data-rating="5">★</span>
    </div>
    <button class="add-to-list">
      <span>+</span> Adicionar à minha lista
    </button>
    <form class="comment-form" id="commentForm">
      <textarea class="comment-input" placeholder="Escreva seu comentário..." required></textarea>
      <button type="submit" class="submit-comment">Enviar</button>
    </form>
  </div>
</div>
</div>
  <div class="prices">
    <div class="platform">
      <span>Steam</span>
      <div class="price">R$ 149,99</div>
    </div>
    <div class="platform">
      <span>Xbox</span>
      <div class="price">R$ 199,00</div>
    </div>
    <div class="platform">
      <span>PlayStation</span>
      <div class="price">R$ 199,00</div>
    </div>
    <div class="platform">
      <span>Epic Games</span>
      <div class="price">R$ 159,99</div>
    </div>
  </div>
  
  <div class="reviews">
    <h2 class="reviews-title">Avaliações e Comentários</h2>
    
    <div class="review featured">
      <div class="review-header">
        <div>
          <div class="review-author">Ana Silva - Crítica Profissional</div>
          <div class="review-date">15 de Março, 2023</div>
        </div>
        <div class="review-rating">★★★★★</div>
      </div>
      <div class="review-content">
        Cyberpunk 2077 superou suas polêmicas iniciais para se tornar uma das experiências mais imersivas da geração. A construção de Night City é fenomenal, com cada distrito oferecendo uma estética e atmosfera única. A narrativa principal, especialmente com a performance de Keanu Reeves como Johnny Silverhand, é eletrizante. O sistema de RPG permite diversas abordagens para cada missão, incentivando múltiplas playthroughs. Após os patches, o jogo está estável e cumpre sua promessa de um RPG cyberpunk profundo e visualmente deslumbrante.
      </div>
    </div>
    
    <div class="review">
      <div class="review-header">
        <div>
          <div class="review-author">Carlos M.</div>
          <div class="review-date">2 de Abril, 2023</div>
        </div>
        <div class="review-rating">★★★★☆</div>
      </div>
      <div class="review-content">
        Joguei após a atualização 1.6 e adorei a experiência. Os gráficos são incríveis no PC, a história é envolvente e as side quests são tão boas quanto a missão principal. Ainda tem alguns bugs menores, mas nada que atrapalhe a diversão. Recomendo!
      </div>
    </div>
    
    <div class="review">
      <div class="review-header">
        <div>
          <div class="review-author">GamerBR2022</div>
          <div class="review-date">10 de Janeiro, 2023</div>
        </div>
        <div class="review-rating">★★★☆☆</div>
      </div>
      <div class="review-content">
        Bom jogo, mas esperava mais. A cidade é linda mas senti que falta vida nela. As missões são legais e o combate é satisfatório, especialmente o stealth. A DLC Phantom Liberty melhorou muito o jogo, valeu a pena esperar.
      </div>
    </div>
    
    <div class="review">
      <div class="review-header">
        <div>
          <div class="review-author">Juliana R.</div>
          <div class="review-date">28 de Fevereiro, 2023</div>
        </div>
        <div class="review-rating">★★★★★</div>
      </div>
      <div class="review-content">
        Simplesmente incrível! A ambientação, a trilha sonora, os personagens... tudo perfeito. Fiz todas as side quests e não me arrependo. O final que peguei foi emocionante. Já estou planejando jogar novamente com um estilo de personagem diferente.
      </div>
    </div>
  </div>
</div>
<div class="modal" id="videoModal">
  <div class="modal-content">
    <span class="close-modal">&times;</span>
    <div class="video-container">
      <iframe id="trailerVideo" src="" frameborder="0" allowfullscreen></iframe>
    </div>
  </div>
</div>

<script>
  // Sistema de avaliação com estrelas - FUNCIONANDO
  const stars = document.querySelectorAll('.star');
  let selectedRating = 0;
  
  stars.forEach(star => {
    star.addEventListener('click', () => {
      const rating = parseInt(star.getAttribute('data-rating'));
      selectedRating = rating;
      
      stars.forEach((s, index) => {
        if (index < rating) {
          s.classList.add('active');
        } else {
          s.classList.remove('active');
        }
      });
    });
    
    star.addEventListener('mouseover', () => {
      const rating = parseInt(star.getAttribute('data-rating'));
      
      stars.forEach((s, index) => {
        if (index < rating) {
          s.style.color = '#f5c518';
        }
      });
    });
    
    star.addEventListener('mouseout', () => {
      stars.forEach((s, index) => {
        if (index >= selectedRating) {
          s.style.color = '#555';
        } else {
          s.style.color = '#f5c518';
        }
      });
    });
  });

  // Adicionar à lista - FUNCIONANDO
  const addToListBtn = document.querySelector('.add-to-list');
  addToListBtn.addEventListener('click', (e) => {
    e.preventDefault();
    alert('Jogo adicionado à sua lista!');
  });

  // Envio de comentário - FUNCIONANDO
  const commentForm = document.getElementById('commentForm');
  const reviewsSection = document.getElementById('reviewsSection');
  
  commentForm.addEventListener('submit', (e) => {
    e.preventDefault();
    
    const commentTextarea = commentForm.querySelector('textarea');
    const commentText = commentTextarea.value.trim();
    
    if (commentText === '') {
      alert('Por favor, escreva um comentário antes de enviar.');
      return;
    }
    
    if (selectedRating === 0) {
      alert('Por favor, selecione uma avaliação com as estrelas.');
      return;
    }
    
    const now = new Date();
    const dateString = now.toLocaleDateString('pt-BR', { 
      day: 'numeric', 
      month: 'long', 
      year: 'numeric' 
    });
    
    const newReview = document.createElement('div');
    newReview.className = 'review';
    newReview.innerHTML = `
      <div class="review-header">
        <div>
          <div class="review-author">Você</div>
          <div class="review-date">${dateString}</div>
        </div>
        <div class="review-rating">${'★'.repeat(selectedRating)}${'☆'.repeat(5 - selectedRating)}</div>
      </div>
      <div class="review-content">${commentText}</div>
    `;
    
    // Insere o novo comentário após o comentário destacado (featured)
    const featuredReview = document.querySelector('.review.featured');
    featuredReview.insertAdjacentElement('afterend', newReview);
    
    // Reseta o formulário
    commentTextarea.value = '';
    
    // Reseta as estrelas
    stars.forEach(star => {
      star.classList.remove('active');
      star.style.color = '#555';
    });
    selectedRating = 0;
  });
</script>
</body>
</html>