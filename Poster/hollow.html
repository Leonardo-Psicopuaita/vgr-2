<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="posterstyle.css">
  <title>Detalhes do Jogo - VideoGameRating</title>
</head>
<body>
<div class="container">
  <div class="header">
    <a href="https://youtu.be/UAO2urG23S4?si=g6glEoTDWPoT9eok"><img class="poster" src="imagens fodas/HollowPoster .avif" alt="Poster do Jogo" /></a>
    <div class="details">
      <div>
        <div class="title">Hollow Knight</div>
        
        <div class="ratings-container">
          <div class="rating">
            <div class="rating-label">Metacritic</div>
            <div class="badge metacritic">90/100</div>
          </div>
          <div class="rating">
            <div class="rating-label">Usuários</div>
            <div class="badge user">4.8/5</div>
          </div>
        </div>
        
        <div class="description">
          Hollow Knight é um jogo de ação e aventura em estilo metroidvania 2D que se passa em Hallownest, antigo reino fictício.[5] O jogador controla um silencioso receptáculo enquanto explora um mundo subterrâneo. O cavaleiro utiliza uma arma pontiaguda (chamada de ferrão), tanto em combate quanto para interação com o ambiente.[6]
        </div>
      </div>
    </div>
  </div>
  <div class="user-actions">
    <div class="rating-stars" id="ratingStars">
      <span class="star" data-rating="1">★</span>
      <span class="star" data-rating="2">★</span>
      <span class="star" data-rating="3">★</span>
      <span class="star" data-rating="4">★</span>
      <span class="star" data-rating="5">★</span>
    </div>
    <button class="add-to-list">
      <span>+</span> Adicionar à minha lista
    </button>
    <form class="comment-form" id="commentForm">
      <textarea class="comment-input" placeholder="Escreva seu comentário..." required></textarea>
      <button type="submit" class="submit-comment">Enviar</button>
    </form>
  </div>
</div>
</div>
  <div class="prices">
    <div class="platform">
      <span>Steam</span>
      <div class="price">R$ 46,99</div>
    </div>
    <div class="platform">
      <span>Xbox</span>
      <div class="price">R$ 57,45</div>
    </div>
    <div class="platform">
      <span>PlayStation</span>
      <div class="price">R$ 62,50</div>
    </div>
  </div>
  
  <div class="reviews">
    <h2 class="reviews-title">Avaliações e Comentários</h2>
    
    <div class="review featured">
      <div class="review-header">
        <div>
          <div class="review-author">Ori - Crítica Profissional</div>
          <div class="review-date">15 de Março, 2018</div>
        </div>
        <div class="review-rating">★★★★★</div>
      </div>
      <div class="review-content">
        <div class="reviews" id="reviewsSection">
  Hollow Knight é uma obra-prima dos metroidvanias. A combinação de combate preciso, level design intrincado e arte deslumbrante cria uma experiência imersiva. A ambientação de Hallownest é rica em lore, revelada de forma orgânica através da exploração. A dificuldade é desafiadora mas justa, e a trilha sonora de Christopher Larkin é simplesmente fenomenal. Cada nova área traz mecânicas únicas que renovam constantemente a experiência.
      </div>
    </div>
    </div>
    
    <div class="review">
      <div class="review-header">
        <div>
          <div class="review-author">Mariana Alves.</div>
          <div class="review-date">2 de Abril, 2020</div>
        </div>
        <div class="review-rating">★★★★☆</div>
      </div>
      <div class="review-content">
        Gostei muito do jogo, mas confesso que achei difícil demais em algumas partes. O mundo é lindo e a história misteriosa me prendeu, mas morri tantas vezes para o Hornet que quase desisti! Ainda assim, quando finalmente venci uma chefão difícil, a sensação foi incrível. Recomendo, mas só para quem tem paciência.
      </div>
    </div>
    
    <div class="review">
      <div class="review-header">
        <div>
          <div class="review-author">ArturUchiha9090</div>
          <div class="review-date">10 de Janeiro, 2020</div>
        </div>
        <div class="review-rating">★★★☆☆</div>
      </div>
      <div class="review-content">
        MaNo O JOGO e DAORA MAS e MUTO DIFISIL O RADIANCE E IMPOSIVEL Mas os graficos são bonitinhos e o cavaleiro é foda eu nao consegui zerar pq minha mae me bateu quando viu o grimm, jogo lixo
      </div>
    </div>
    
    <div class="review">
      <div class="review-header">
        <div>
          <div class="review-author">Davi Brito</div>
          <div class="review-date">28 de Fevereiro, 2023</div>
        </div>
        <div class="review-rating">★★★★★</div>
      </div>
      <div class="review-content">
        da hora eyu fui la e huanhei do hollow night
      </div>
    </div>
  </div>
</div>
<div class="modal" id="videoModal">
  <div class="modal-content">
    <span class="close-modal">&times;</span>
    <div class="video-container">
      <iframe id="trailerVideo" src="" frameborder="0" allowfullscreen></iframe>
    </div>
  </div>
</div>

<script>
  // Sistema de avaliação com estrelas - FUNCIONANDO
  const stars = document.querySelectorAll('.star');
  let selectedRating = 0;
  
  stars.forEach(star => {
    star.addEventListener('click', () => {
      const rating = parseInt(star.getAttribute('data-rating'));
      selectedRating = rating;
      
      stars.forEach((s, index) => {
        if (index < rating) {
          s.classList.add('active');
        } else {
          s.classList.remove('active');
        }
      });
    });
    
    star.addEventListener('mouseover', () => {
      const rating = parseInt(star.getAttribute('data-rating'));
      
      stars.forEach((s, index) => {
        if (index < rating) {
          s.style.color = '#f5c518';
        }
      });
    });
    
    star.addEventListener('mouseout', () => {
      stars.forEach((s, index) => {
        if (index >= selectedRating) {
          s.style.color = '#555';
        } else {
          s.style.color = '#f5c518';
        }
      });
    });
  });

  // Adicionar à lista - FUNCIONANDO
  const addToListBtn = document.querySelector('.add-to-list');
  addToListBtn.addEventListener('click', (e) => {
    e.preventDefault();
    alert('Jogo adicionado à sua lista!');
  });

  // Envio de comentário - FUNCIONANDO
  const commentForm = document.getElementById('commentForm');
  const reviewsSection = document.getElementById('reviewsSection');
  
  commentForm.addEventListener('submit', (e) => {
    e.preventDefault();
    
    const commentTextarea = commentForm.querySelector('textarea');
    const commentText = commentTextarea.value.trim();
    
    if (commentText === '') {
      alert('Por favor, escreva um comentário antes de enviar.');
      return;
    }
    
    if (selectedRating === 0) {
      alert('Por favor, selecione uma avaliação com as estrelas.');
      return;
    }
    
    const now = new Date();
    const dateString = now.toLocaleDateString('pt-BR', { 
      day: 'numeric', 
      month: 'long', 
      year: 'numeric' 
    });
    
    const newReview = document.createElement('div');
    newReview.className = 'review';
    newReview.innerHTML = `
      <div class="review-header">
        <div>
          <div class="review-author">Você</div>
          <div class="review-date">${dateString}</div>
        </div>
        <div class="review-rating">${'★'.repeat(selectedRating)}${'☆'.repeat(5 - selectedRating)}</div>
      </div>
      <div class="review-content">${commentText}</div>
    `;
    
    // Insere o novo comentário após o comentário destacado (featured)
    const featuredReview = document.querySelector('.review.featured');
    featuredReview.insertAdjacentElement('afterend', newReview);
    
    // Reseta o formulário
    commentTextarea.value = '';
    
    // Reseta as estrelas
    stars.forEach(star => {
      star.classList.remove('active');
      star.style.color = '#555';
    });
    selectedRating = 0;
  });
</script>
</body>
</html>